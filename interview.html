<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Interview</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<style>

body {
    background: #0d0d0d;
    color: white;
    font-family: 'Inter', sans-serif;
    text-align: center;
    padding: 30px;
}

.container {
    max-width: 900px;
    margin: auto;
}

video {
    border: 2px solid #00ff99;
    border-radius: 12px;
    margin-top: 20px;
}

button {
    padding: 12px 22px;
    margin: 10px;
    background: #00ff99;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
}

button:hover {
    background: #00cc77;
}

.topbar {
    display: flex;
    justify-content: space-between;
    margin-bottom: 20px;
    font-weight: 500;
}

.status {
    margin-top: 20px;
    font-size: 18px;
    color: #00ff99;
}

</style>
</head>

<body>

<div class="container">

<h2>ü§ñ AI Mock Interview</h2>

<div class="topbar">
    <div id="timer">‚è± 45:00</div>
    <div id="counter">Question 0 / 5</div>
</div>

<button onclick="startInterview()">Start Interview</button>

<br>

<video id="video" width="600" autoplay playsinline></video>

<div class="status" id="questionText">
Click Start Interview to begin
</div>

<br>

<button onclick="nextQuestion()">Next</button>
<button onclick="endInterview()">End Interview</button>

</div>

<script>

let currentQuestion = 0;
let timerInterval;

// ================= TIMER =================

function startTimer(duration) {

    let time = duration;

    timerInterval = setInterval(() => {

        let minutes = Math.floor(time / 60);
        let seconds = time % 60;

        document.getElementById("timer").innerText =
            `‚è± ${minutes}:${seconds.toString().padStart(2, '0')}`;

        if (--time < 0) {
            clearInterval(timerInterval);
            speak("Time is over. Interview ended.");
        }

    }, 1000);
}

// ================= CAMERA =================

async function startCamera() {

    try {
        const stream = await navigator.mediaDevices.getUserMedia({
            video: true,
            audio: true
        });

        document.getElementById("video").srcObject = stream;

    } catch (err) {
        alert("Camera permission denied");
    }
}

// ================= VOICE =================

function speak(text) {

    window.speechSynthesis.cancel(); // FIX echo bug

    const speech = new SpeechSynthesisUtterance(text);
    speech.lang = "en-US";
    speech.rate = 1;

    window.speechSynthesis.speak(speech);
}

// ================= 250 MEDIUM DSA QUESTIONS =================

const dsaQuestions = [

"Two Sum II",
"3Sum",
"Longest Substring Without Repeating Characters",
"Container With Most Water",
"Group Anagrams",
"Product of Array Except Self",
"Longest Palindromic Substring",
"Search in Rotated Sorted Array",
"Find Minimum in Rotated Sorted Array",
"Number of Islands",
"Course Schedule",
"Clone Graph",
"Pacific Atlantic Water Flow",
"Rotting Oranges",
"Top K Frequent Elements",
"Kth Largest Element in Array",
"Subsets",
"Permutations",
"Combination Sum",
"Word Search",
"Binary Tree Level Order Traversal",
"Validate Binary Search Tree",
"Kth Smallest in BST",
"Lowest Common Ancestor BST",
"Binary Tree Right Side View",
"Construct Binary Tree from Preorder Inorder",
"Path Sum II",
"House Robber",
"House Robber II",
"Coin Change",
"Longest Increasing Subsequence",
"Partition Equal Subset Sum",
"Jump Game",
"Jump Game II",
"Unique Paths",
"Minimum Path Sum",
"Decode Ways",
"Word Break",
"Longest Common Subsequence",
"Edit Distance",
"Longest Consecutive Sequence",
"Graph Valid Tree",
"Accounts Merge",
"Network Delay Time",
"Cheapest Flights Within K Stops",
"Reorder List",
"Add Two Numbers II",
"Remove Nth Node From End",
"Merge Intervals",
"Insert Interval",
"Non Overlapping Intervals",
"Meeting Rooms II",
"Daily Temperatures",
"Car Fleet",
"Evaluate Reverse Polish Notation",
"Min Stack",
"Design Twitter",
"LRU Cache",
"Time Based Key Value Store",
"Median Finder",
"Find Peak Element",
"Search 2D Matrix",
"Spiral Matrix",
"Rotate Image",
"Set Matrix Zeroes",
"Word Ladder",
"Open the Lock",
"Snakes and Ladders",
"Gas Station",
"Candy",
"Task Scheduler",
"Partition Labels",
"Reorganize String",
"Valid Parenthesis String",
"Remove K Digits",
"Score of Parentheses",
"Asteroid Collision",
"Simplify Path",
"Generate Parentheses",
"Letter Combinations Phone Number",
"Combination Sum II",
"Palindrome Partitioning",
"N Queens",
"Sudoku Solver",
"Find All Anagrams",
"Minimum Window Substring",
"Sliding Window Maximum",
"Longest Repeating Character Replacement",
"Permutation in String",
"Find Duplicate Number",
"Single Number II",
"Majority Element II",
"Sort Colors",
"Next Permutation",
"Find First Missing Positive",
"Subarray Sum Equals K",
"Continuous Subarray Sum",
"Maximum Product Subarray",
"Best Time to Buy Sell Stock II",
"Best Time to Buy Sell Stock with Cooldown",
"Best Time with Transaction Fee",
"Flatten Binary Tree",
"Serialize Deserialize Binary Tree",
"Binary Tree Maximum Path Sum",
"Diameter of Binary Tree",
"Count Good Nodes",
"Path Sum III",
"Populating Next Right Pointers",
"Construct Quad Tree",
"Trie Implement",
"Word Dictionary",
"Replace Words",
"Map Sum Pairs",
"Design Add Search Words",
"Find K Closest Elements",
"Top K Frequent Words",
"Sort Characters by Frequency",
"Reconstruct Queue",
"Queue Reconstruction by Height",
"Find K Pairs Smallest Sums",
"Merge K Sorted Lists",
"Swap Nodes in Pairs",
"Reverse Linked List II",
"Copy List with Random Pointer",
"Linked List Cycle II",
"Odd Even Linked List",
"Intersection of Two Linked Lists",
"Flatten Nested List Iterator",
"Design Hit Counter",
"Random Pick with Weight",
"Insert Delete GetRandom",
"Shuffle Array",
"Minimum Height Trees",
"Redundant Connection",
"Number of Connected Components",
"Alien Dictionary",
"Graph Bipartite",
"Evaluate Division",
"Regions Cut by Slashes",
"Shortest Bridge",
"Keys and Rooms",
"Eventual Safe States",
"All Paths From Source Target",
"Minimum Genetic Mutation",
"Find Town Judge",
"Parallel Courses",
"Course Schedule II",
"Minimum Cost Connect Points",
"Number of Provinces",
"Accounts Merge Advanced",
"Most Stones Removed",
"Longest String Chain",
"Delete Operation Two Strings",
"Ones and Zeroes",
"Target Sum",
"Last Stone Weight II",
"Knight Probability Chessboard",
"Out of Boundary Paths",
"Minimum Falling Path Sum",
"Triangle DP",
"Stone Game",
"Stone Game II",
"Stone Game III",
"Longest Arithmetic Subsequence",
"Distinct Subsequences",
"Interleaving String",
"Regular Expression Matching",
"Wildcard Matching",
"Maximal Square",
"Maximal Rectangle",
"Unique Paths II",
"Count Square Submatrices",
"Minimum Cost For Tickets",
"Paint House",
"Paint Fence",
"Perfect Squares",
"Integer Break",
"Ugly Number II",
"Super Ugly Number",
"Arithmetic Slices",
"Range Sum Query",
"Range Sum Query 2D",
"Binary Indexed Tree Range Sum",
"Segment Tree Range Query",
"Design Circular Queue",
"Design Circular Deque",
"Design Browser History",
"Design Underground System",
"Design File System",
"Design Snake Game",
"Design Tic Tac Toe",
"Design Leaderboard",
"Design Parking System",
"Design Authentication Manager",
"Design HashMap",
"Design HashSet"

];

// ================= MAIN QUESTIONS =================

let questions = [];

function prepareQuestions() {

    const randomDSA =
        dsaQuestions[Math.floor(Math.random() * dsaQuestions.length)];

    questions = [
        "Tell me about yourself.",
        "Solve this DSA problem: " + randomDSA,
        "Explain one technical project you have worked on.",
        "What is your biggest strength?",
        "Why should we hire you?"
    ];
}

// ================= ASK QUESTION =================

function askQuestion() {

    if (currentQuestion >= questions.length) {
        speak("Interview completed. Great job.");
        document.getElementById("questionText").innerText =
            "Interview Finished";
        return;
    }

    const text = questions[currentQuestion];

    document.getElementById("questionText").innerText = text;

    document.getElementById("counter").innerText =
        `Question ${currentQuestion + 1} / ${questions.length}`;

    speak(text);
}

// ================= BUTTONS =================

function nextQuestion() {
    currentQuestion++;
    askQuestion();
}

function endInterview() {
    speak("Interview ended. Thank you.");
    clearInterval(timerInterval);
}

// ================= START =================

async function startInterview() {

    prepareQuestions();
    await startCamera();

    startTimer(45 * 60); // 45 minutes

    currentQuestion = 0;
    askQuestion();
}

</script>

</body>
</html>